---
layout: post
title: "Traefik ê¸°ë°˜ ì¤‘ì•™ì§‘ì¤‘í˜• ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë° Turborepo ê¸°ë°˜ ëª¨ë…¸ë ˆí¬ êµ¬ì¡°ë¡œì˜ ì „ë©´ ê°œí¸"
date: 2025-11-30
category: Company Work
tags: DevOps Traefik Turborepo Monorepo Docker Architecture DX
description: "ê°œë°œ ìƒì‚°ì„± ë° íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•˜ê¸° ìœ„í•´ ê°œë°œ í™˜ê²½ì„ Traefik ê¸°ë°˜ ì¤‘ì•™ì§‘ì¤‘í˜• ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë° Turborepo ê¸°ë°˜ ëª¨ë…¸ë ˆí¬ êµ¬ì¡°ë¡œ ì „ë©´ ê°œí¸í•œ ê²½í—˜ì„ ê³µìœ í•©ë‹ˆë‹¤."
---

ì˜¤ëŠ˜ì€ ê°œë°œ í™˜ê²½ì„ Traefik ê¸°ë°˜ ì¤‘ì•™ì§‘ì¤‘í˜• ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë° Turborepo ê¸°ë°˜ ëª¨ë…¸ë ˆí¬ êµ¬ì¡°ë¡œ ì „ë©´ ê°œí¸í•˜ì—¬ ê°œë°œ ìƒì‚°ì„± ë° íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í–ˆìŠµë‹ˆë‹¤.

## 1. ğŸŒ Traefik ê¸°ë°˜ ê°œë°œ í™˜ê²½ ì¤‘ì•™ì§‘ì¤‘í™” ë° ë³‘ë ¬ ê°œë°œ í™•ë³´

ë‹¨ì¼ í¬íŠ¸ ì¶©ëŒ ì—†ì´ ì—¬ëŸ¬ ë¸Œëœì¹˜ í™˜ê²½ì„ ë™ì‹œì— ìš´ì˜í•  ìˆ˜ ìˆë„ë¡ ì‹œìŠ¤í…œ ì§„ì…ì ì„ í†µí•©í–ˆìŠµë‹ˆë‹¤.

### ë³‘ë ¬ ì‘ì—… ê°€ëŠ¥
ì„¸ ê°œì˜ ë¸Œëœì¹˜ ìŠ¤íƒì„ ë™ì‹œì— ê¸°ë™í•¨ìœ¼ë¡œì¨, ë‹¤ìŒ 4ê°€ì§€ ì‘ì—…ì„ ë³‘ë ¬ì ìœ¼ë¡œ ì§„í–‰í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.
- E2E ê²€ì¦
- ê¸°ëŠ¥ ê°œë°œ
- ì½”ë“œ í’ˆì§ˆ ê°•í™”
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ë³´

### í¬íŠ¸ ì¶©ëŒ ì œê±° ë° ì¤‘ì•™ ë¼ìš°íŒ…
ê° ì„œë¹„ìŠ¤(Backend, Frontend, DB, Redis)ì—ì„œ í˜¸ìŠ¤íŠ¸ í¬íŠ¸ ë…¸ì¶œì„ ì œê±°í•˜ê³  Traefikì„ ë‹¨ì¼ ì§„ì…ì (í¬íŠ¸ 80)ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ ì¤‘ì•™ ë¼ìš°íŒ…ì„ í™•ë¦½í–ˆìŠµë‹ˆë‹¤.

### Compose ì •ë¦¬
Traefik ë„¤íŠ¸ì›Œí¬ë¥¼ `external`ë¡œ ì„ ì–¸í•˜ê³  ê° ì„œë¹„ìŠ¤ê°€ ì´ ë„¤íŠ¸ì›Œí¬ì— í•©ë¥˜í•˜ë„ë¡ ì„¤ì •í•˜ì—¬ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì •í•©ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤.

**ì°¸ê³  ì½”ë“œ (`traefik-compose.yml`):**

```yaml
version: '3.8'

services:
  traefik:
    image: traefik:v2.11
    container_name: traefik-proxy
    command:
      - --api.dashboard=true
      - --providers.docker=true
      - --providers.docker.exposedbydefault=false
      - --providers.docker.network=traefik_proxy
      - --providers.file.filename=/etc/traefik/dynamic.yml
      - --entrypoints.web.address=:80
      - --entrypoints.websecure.address=:443
      - --log.level=DEBUG
    ports:
      - 80:80
      - 443:443
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - ./certs:/etc/traefik/certs:ro
      - ./traefik_dynamic.yml:/etc/traefik/dynamic.yml:ro
    networks:
      - traefik_proxy
    labels:
      - traefik.enable=true
      - traefik.http.routers.traefik.rule=Host("traefik.127.0.0.1.sslip.io")
      - traefik.http.routers.traefik.entrypoints=web
      - traefik.http.routers.traefik.service=api@internal
    restart: unless-stopped

networks:
  traefik_proxy:
    external: true
    name: traefik_proxy
```

## 2. ğŸš€ Turborepo ê¸°ë°˜ ëª¨ë…¸ë ˆí¬ ë§ˆì´ê·¸ë ˆì´ì…˜ ë° ê°œë°œ ì†ë„ ê°œì„ 

ê°œë°œ ìƒì‚°ì„±ì„ ì €í•´í•˜ë˜ êµ¬ì¡°ë¥¼ ë²„ë¦¬ê³ , Turborepo ëª¨ë…¸ë ˆí¬ë¡œ ì „í™˜í•˜ì—¬ ê°œë°œ ì†ë„ë¥¼ í–¥ìƒí–ˆìŠµë‹ˆë‹¤.

### ê°œë°œ ì†ë„ í–¥ìƒ
ê°œë°œ ìƒì‚°ì„±ì„ ì €í•´í•˜ë˜ ë¶ˆí•„ìš”í•œ ì„œë¸Œëª¨ë“ˆ êµ¬ì¡°ë¥¼ ë²„ë¦¼ìœ¼ë¡œì¨ ì˜ì¡´ì„± ì„¤ì¹˜ ë° ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¤‘ì•™í™”í•˜ê³ , ë³‘ë ¬ ë¹Œë“œë¥¼ í†µí•´ ë”ìš± ë¹ ë¥¸ ê°œë°œì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤.

### êµ¬ì¡° ì„¤ê³„
ì„œë¹„ìŠ¤ë¥¼ `apps/`ì—, ê³µìœ  íŒ¨í‚¤ì§€(kyc_core ë“±)ë¥¼ `packages/`ì— ë°°ì¹˜í•˜ëŠ” í‘œì¤€ ëª¨ë…¸ë ˆí¬ êµ¬ì¡°ë¥¼ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

```text
.
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ backend/
â”‚   â””â”€â”€ frontend/
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ kyc_core/
â”œâ”€â”€ turbo.json
â””â”€â”€ package.json
```

### ì£¼ìš” ì´ìŠˆ í•´ê²°
- **Docker í™˜ê²½**: Docker í™˜ê²½ ë³€ê²½ì— ë”°ë¥¸ ë³¼ë¥¨ ë§ˆìš´íŠ¸ ë° WORKDIR ê²½ë¡œ ë¶ˆì¼ì¹˜ ë¬¸ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤.
- **ê³µìœ  íŒ¨í‚¤ì§€**: ê³µìœ  íŒ¨í‚¤ì§€ ì°¸ì¡°ë¥¼ ìœ„í•œ `PYTHONPATH` ì„¤ì •ì„ ìµœì í™”í–ˆìŠµë‹ˆë‹¤.
- **Vite HMR**: Vite HMR(í•« ë¦¬ë¡œë“œ) ë¬¸ì œë¥¼ í•´ê²°í•˜ì—¬ ì•ˆì •ì ì¸ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.
