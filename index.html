---
layout: default
---

<div class="posts">
  {% assign category = page.category | default: 'all' %}
  
  {% if category == 'all' %}
    {% assign filtered_posts = site.posts %}
  {% else %}
    {% assign filtered_posts = site.posts | where: 'category', category %}
  {% endif %}
  
  {% for post in filtered_posts %}
    <article class="post">

      <span class="date">{{ post.date | date: "%Y-%m-%d" }}</span>
      <h1><a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a></h1>

    </article>
  {% endfor %}
  
  {% if filtered_posts.size == 0 %}
    <div class="no-posts">
      <p>해당 카테고리의 포스트가 없습니다.</p>
    </div>
  {% endif %}
</div>

<script>
  // URL 파라미터에서 카테고리 읽기
  function getUrlParameter(name) {
    name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
    var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
    var results = regex.exec(location.search);
    return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
  }

  // 카테고리 이름 한글화
  function getCategoryName(category) {
    var categoryNames = {
      'cvfactory': 'CVFactory',
      'company-work': 'Company Work',
      'all': '전체'
    };
    return categoryNames[category] || category;
  }

  // 페이지 로드 시 카테고리 설정
  document.addEventListener('DOMContentLoaded', function() {
    var category = getUrlParameter('category');
    
    // 드롭다운 메뉴에서 현재 카테고리 활성화
    var dropdownLinks = document.querySelectorAll('.dropdown-content a');
    dropdownLinks.forEach(function(link) {
      link.classList.remove('active');
      
      var linkCategory = link.getAttribute('href').split('=')[1];
      if (linkCategory === category) {
        link.classList.add('active');
      }
    });
  });
</script>